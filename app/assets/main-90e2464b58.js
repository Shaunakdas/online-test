
"use strict";angular.module("core",["core.diagnostic-test"]);
angular.module("core.diagnostic-test",["ngResource"]);
angular.module("core.diagnostic-test").factory("DiagnosticTest",["$resource","$rootScope",function(t,a){const e={question_status_data:{data:[]},standard_id:{},stream_id:{},user:{},diagnostic_test_result:{},personalized:{}},s={question_status_data:{data:[]},standard_id:{},stream_id:{},user:{},diagnostic_test_result:{},personalized:{}};var i=!1;return{getData:function(t){return e[t].data},setData:function(t,a){Object.assign(e[t],a)},getAllData:function(){return e},clearAllData:function(){return console.log("Cleaning DiagnosticTest service data"),Object.assign(e,s),i=!1,!0},attempt_ready:function(t){return t&&(i=t),i},http:t(a.base_url_api+"api/diagnostic_tests/get_test.json",{},{get_test:{method:"GET",headers:{Authorization:"Basic "+btoa("education:education")}},submit_test:{method:"POST",url:a.base_url_api+"api/diagnostic_tests/test_attempt.json",headers:{Authorization:"Basic "+btoa("education:education")}},get_standards:{method:"GET",url:a.base_url_api+"api/standards/get_standards.json",headers:{Authorization:"Basic "+btoa("education:education")}},get_attempt_details:{method:"GET",url:a.base_url_api+"api/diagnostic_tests/get_attempt_details.json",headers:{Authorization:"Basic "+btoa("education:education")}}})}}]);
"use strict";angular.module("core").component("header",{templateUrl:"core/header/header.template.html",controller:["DiagnosticTest","$scope",function(t,e){this.question_status_data=t.getData("question_status_data")}]});
"use strict";angular.module("phonecatApp",["ngAnimate","ngRoute","core","ngAnimate","onlineTest"]);
"use strict";angular.module("phonecatApp").config(["$locationProvider","$routeProvider",function(t,e){t.hashPrefix("!"),e.when("/online-test",{template:"<online-test></online-test>"}).when("/online-test/attempt",{template:"<attempt></attempt>"}).when("/online-test/result",{template:"<result></result>"}).otherwise("/online-test")}]),angular.module("phonecatApp").run(["$rootScope","$http",function(t,e){t.base_url_api="https://www.hotelashokachomu.com/"}]);
"use strict";angular.module("phonecatApp").animation(".phone",function(){function t(t,o,n){return"selected"===o?(t.css({display:"block",position:"absolute",top:500,left:0}).animate({top:0},n),function(o){o&&t.stop()}):void 0}function o(t,o,n){return"selected"===o?(t.css({position:"absolute",top:0,left:0}).animate({top:-500},n),function(o){o&&t.stop()}):void 0}return{addClass:t,removeClass:o}});
"use strict";angular.module("onlineTest",[]);
"use strict";angular.module("onlineTest").component("onlineTest",{templateUrl:"online-test/online-test.template.html",controller:["$routeParams","DiagnosticTest","$rootScope","$location","$http",function(t,a,e,s,n){var r=this;r.standard_form_class="hidden",r.submitStudentForm=function(){a.setData("user",{data:{first_name:r.user.first_name,last_name:r.user.last_name,email:r.user.number.toString()+"@resopccp.com",number:r.user.number}}),"hidden"==r.standard_form_class?a.http.get_attempt_details({number:r.user.number},function(t){if(t.personalized.count>0)a.setData("standard_id",{data:t.standards.standard_id}),a.setData("personalized",{data:!0}),a.attempt_ready(!0),s.url("/online-test/attempt");else{r.standards=t.standards;for(var e in t.standards)r.streams[t.standards[e].standard_id]=t.standards[e].streams;r.standard_form_class="shown"}}):r.standard_id&&(a.setData("standard_id",{data:r.standard_id}),a.setData("stream_id",{data:r.stream_id}),a.attempt_ready(!0),s.url("/online-test/attempt"))},r.user={first_name:"Neeraj",last_name:"Resonance-PCCP",number:9740644522,email:"9740644522@resopccp.com"},r.streams={},r.standard_id=null,r.stream_id=null,r.subject_id="",$(document).ready(function(){$("#sidebar-wrapper").html("")})}]});
"use strict";angular.module("onlineTest").component("attempt",{templateUrl:"online-test/attempt.template.html",controller:["DiagnosticTest","$scope","$location",function(t,e,s){0==t.attempt_ready()&&s.url("/online-test/"),console.log("This is AttemptController"),console.log(t.getAllData());var n=this;if(n.test_start_text="Hi "+(t.getData("user")?t.getData("user").first_name:"")+", We have got a personalized test for you designed to improve your week areas based on your last attempt here :)",t.getData("personalized"))var a={standard_id:t.getData("standard_id"),subject_id:t.getData("standard_id"),personalization_type:1,diagnostic_test_id:1,number:t.getData("user").number};else var a={standard_id:t.getData("standard_id"),subject_id:t.getData("standard_id"),stream_id:t.getData("stream_id")};t.http.get_test(a,function(t){n.build_diagnostic_test_data(t)}),n.current_question_index=0,n.change_question=function(e){try{"string"==typeof e&&(e=parseInt(e),console.log(e))}catch(s){return void console.log(s)}e<n.fetched_questions.length&&(n.current_question_index=e,n.reset_timer()),n.question_status_data[e]={"class":"attempting",attempt:1},t.setData("question_status_data",{data:n.question_status_data}),$("#side_panel_question_"+n.current_question_index).removeClass("untouched").addClass("attempting")},n.reset_timer=function(){n.current_question_start_time=Date.now()},n.reset_timer(),n.get_time_spent=function(){return(Date.now()-n.current_question_start_time)/1e3},n.get_displayed_question_index=function(){return n.current_question_index},n.build_diagnostic_test_data=function(a){n.diagnostic_test_data={user:t.getData("user"),diagnostic_test:{id:a.diagnostic_test_id,short_choice_questions:{}}},n.fetched_questions=a.questions,n.question_status_data=[],$.each(n.fetched_questions,function(t,e){n.question_status_data.push({"class":"untouched"}),n.diagnostic_test_data.diagnostic_test.short_choice_questions[e.short_choice_question_id]={question_text:e.question_text,attempt_count:0,attempt:n.question_status_data[t].attempt||0,index:t,score:0,time_taken:0,selected_answers:{}}}),t.setData("question_status_data",{data:n.question_status_data}),$(document).ready(function(){$("#sidebar-wrapper").html("").html('<div id="sidebar-question-index"><p>Question list</p><div id="side-panel-questions"></div></div>');for(var e="",a=0;a<n.fetched_questions.length;a++)e+='<span id="side_panel_question_'+a+'">'+(a+1)+"</span>";e+='<br><br><button id="test_submit_btn" type="button" class="btn btn-success">Submit test</button>',$("#side-panel-questions").html("").append(e),$("#test_submit_btn").on("click",function(){t.http.submit_test(n.diagnostic_test_data,function(e){t.setData("diagnostic_test_result",{data:{personalized_test_remaining:e.personalized_test_remaining,result:e.result,weak_entity:e.weak_entity}}),s.url("/online-test/result")})})}),$("#side_panel_question_"+n.get_displayed_question_index()).removeClass("untouched").addClass("attempting"),$("#sidebar-question-index span").on("click",function(t){$("#side_panel_question_"+n.get_displayed_question_index()).removeClass("attempting"),e.$apply(function(){n.change_question(parseInt($(t.currentTarget).html())-1)})}),$("#start-test-btn").prop("disabled",!1).on("click",function(){n.change_question(0)})},n.select_answer=function(t,e){$("#side_panel_question_"+n.get_displayed_question_index()).removeClass("untouched").removeClass("attempting").addClass("attempted");var s=n.fetched_questions[n.get_displayed_question_index()].answers[e],a=n.diagnostic_test_data.diagnostic_test.short_choice_questions[t];if(a.attempt_count+=1,a.attempt=s.correct?3:2,a.selected_answers[s.short_choice_answer_id]={text:s.answer_text,index:a.attempt_count,time_taken:n.get_time_spent()},s.correct){var i=1e3,_=90,o=n.get_time_spent();_/3>=o?a.score=i:o>_/3&&_>o?a.score=(29*_-27*o)*i/(20*_):a.score=i/10}n.question_status_data[n.get_displayed_question_index()]={"class":"attempted"},a.answer_selected=s.short_choice_answer_id,a.time_taken+=n.get_time_spent(),n.current_question_index<n.fetched_questions.length&&n.change_question(n.get_displayed_question_index()+1)}}]}),angular.module("onlineTest").directive("mathJaxBind",function(){var t=function(t){MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])};return{link:function(e,s,n){e.$watch(n.mathJaxBind,function(e,n){s.html(e),t(s[0])})}}});
"use strict";angular.module("onlineTest").component("result",{templateUrl:"online-test/result.template.html",controller:["DiagnosticTest","$scope","$location",function(t,e,l){this.diagnostic_test_result=t.getData("diagnostic_test_result"),this.color_labels=["LightGoldenRodYellow","Aquamarine","DarkGrey","DeepSkyBlue","FloralWhite","LavenderBlush"],console.log(this.diagnostic_test_result),$(document).ready(function(){$("#sidebar-wrapper").html("").html('<button class="btn btn-default" id="test_retake_btn" type="button">Start Test</button>'),$("#test_retake_btn").on("click",function(){console.log("clicked"),t.clearAllData(),e.$apply(function(){l.url("/online-test/")})})})}]});
//# sourceMappingURL=maps/main-90e2464b58.js.map